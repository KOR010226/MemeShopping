<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Mart | ä½ çš„æ™ºå•†å„²å€¼ä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 1. æ ¸å¿ƒè¿·å› å­—é«” */
        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', sans-serif;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewport="0 0 24 24" style="fill:black;font-size:24px"><text y="50%">ğŸ‘†</text></svg>') 16 0, auto;
        }

        /* 2. èƒŒæ™¯å‹•ç•« */
        @keyframes rainbow-bg {
            0% { background-color: #ffadad; }
            20% { background-color: #ffd6a5; }
            40% { background-color: #fdffb6; }
            60% { background-color: #caffbf; }
            80% { background-color: #9bf6ff; }
            100% { background-color: #a0c4ff; }
        }
        .meme-bg { animation: rainbow-bg 5s infinite alternate; }

        /* 3. éœ‡å‹•ç‰¹æ•ˆ */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .shake-on-hover:hover { animation: shake 0.5s infinite; }

        /* Marquee */
        .marquee-container { overflow: hidden; white-space: nowrap; }
        .marquee-text { display: inline-block; animation: marquee 10s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Win95 Style */
        .win95-box {
            background: #c0c0c0;
            border-top: 2px solid #dfdfdf;
            border-left: 2px solid #dfdfdf;
            border-right: 2px solid #000000;
            border-bottom: 2px solid #000000;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
        }
        .win95-header {
            background: linear-gradient(90deg, navy, #1084d0);
            color: white;
            padding: 2px 4px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }

        /* åƒ¹æ ¼æ³¢å‹•é¡è‰² */
        .price-up { color: #22c55e; animation: pulse-green 0.5s; }
        .price-down { color: #ef4444; animation: pulse-red 0.5s; }
        @keyframes pulse-green { 0% { transform: scale(1); } 50% { transform: scale(1.2); color: lime; } 100% { transform: scale(1); } }
        @keyframes pulse-red { 0% { transform: scale(1); } 50% { transform: scale(1.2); color: red; } 100% { transform: scale(1); } }
    </style>
</head>
<body class="meme-bg min-h-screen flex flex-col">

    <!-- é ‚éƒ¨è·‘é¦¬ç‡ˆï¼šåŠ å¯†è²¨å¹£é¢¨æ ¼ -->
    <div class="bg-black text-lime-400 p-2 font-mono font-bold marquee-container border-b-4 border-red-500">
        <div class="marquee-text" id="crypto-ticker">
            ğŸš€ DOGE: Loading... | ğŸ’ BTC: $1,000,000 (Soon) | ğŸ“‰ ä½ çš„ GPA: -50% | ğŸ’ NFT æ³¡æ²«ç ´è£‚ä¸­ | âš ï¸ æœ¬ç«™åŒ¯ç‡æ¥µä¸ç©©å®šï¼Œè«‹è¬¹æ…æŠ•è³‡æ™ºå•†
        </div>
    </div>

    <!-- å°èˆªåˆ— -->
    <nav class="p-4 flex flex-col md:flex-row gap-4 justify-between items-center bg-blue-700 text-white border-b-8 border-yellow-400 sticky top-0 z-40 shadow-xl">
        <div class="flex items-center gap-2">
            <h1 class="text-4xl font-black italic tracking-tighter transform -rotate-2 hover:rotate-2 transition" style="text-shadow: 3px 3px 0px #000;">
                ğŸ¸ Meme Mart
            </h1>
            <span class="text-xs bg-red-500 px-2 py-1 transform rotate-12 border border-white font-bold">BETA</span>
        </div>

        <!-- åŒ¯ç‡çœ‹æ¿ -->
        <div class="win95-box px-4 py-1 flex items-center gap-2 bg-black text-green-400 font-mono text-sm md:text-base">
            <span>1 MEME = </span>
            <span id="exchange-rate" class="font-bold text-xl">$0.00</span>
            <span id="rate-change">(--%)</span>
        </div>

        <button onclick="toggleCart()" class="win95-box px-4 py-2 text-black font-bold active:translate-y-1 transition hover:bg-gray-200 flex gap-2 items-center">
            <span>ğŸ›’ åƒåœ¾è»Š</span>
            <span id="cart-count" class="bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs">0</span>
        </button>
    </nav>

    <div class="flex flex-1 flex-col md:flex-row">

        <!-- å´é‚Šæ¬„ï¼šæ§åˆ¶å° -->
        <aside class="w-full md:w-64 bg-gray-200 p-4 border-r-4 border-black flex flex-col gap-6 z-30">

            <div class="win95-box p-1">
                <div class="win95-header">
                    <span>ğŸ“‚ åˆ†é¡ (Categories)</span>
                </div>
                <div class="p-4 bg-white flex flex-col gap-2 text-center">
                    <p class="text-xs text-gray-500 mb-2">è«‹é¸æ“‡ä½ çš„æ¯’è—¥</p>
                    <button onclick="filterProducts('all')" class="bg-blue-200 hover:bg-blue-300 border-2 border-blue-500 p-1 font-bold">ğŸ“š å…¨éƒ¨è¿·å› </button>
                    <button onclick="filterProducts('2025')" class="bg-red-200 hover:bg-red-300 border-2 border-red-500 p-1 font-bold">ğŸ”¥ 2025 ç†±é–€ (Recent)</button>
                    <button onclick="filterProducts('classic')" class="bg-yellow-200 hover:bg-yellow-300 border-2 border-yellow-500 p-1 font-bold">ğŸ† ä¸Šå¤ç¥ç¸ (Classic)</button>
                    <hr class="border-black my-2">
                    <button onclick="filterProducts('emotional')" class="bg-purple-200 hover:bg-purple-300 border-2 border-purple-500 p-1 text-sm">ğŸ’” ç²¾ç¥å‚·å®³</button>
                    <button onclick="filterProducts('useless')" class="bg-green-200 hover:bg-green-300 border-2 border-green-500 p-1 text-sm">ğŸ—‘ï¸ ç‰©ç†å»¢ç‰©</button>
                </div>
            </div>

            <!-- å¸‚å ´æƒ…ç·’æŒ‡æ¨™ -->
            <div class="win95-box p-1">
                <div class="win95-header bg-gray-700">
                    <span>ğŸ“Š å¸‚å ´æƒ…ç·’</span>
                </div>
                <div class="p-4 bg-white text-center">
                    <div class="text-4xl mb-2" id="market-mood">ğŸ˜±</div>
                    <p class="font-bold text-red-600">æ¥µåº¦ææ…Œ</p>
                    <div class="w-full bg-gray-300 h-4 mt-2 border border-black rounded-full overflow-hidden">
                        <div class="bg-red-500 h-full w-[20%] animate-pulse"></div>
                    </div>
                </div>
            </div>

        </aside>

        <!-- å•†å“å±•ç¤ºå€ -->
        <main class="flex-1 p-6 relative">
            <!-- è¼‰å…¥å‹•ç•« -->
            <div id="loader" class="text-center py-20">
                <div class="text-6xl animate-spin inline-block">ğŸ•</div>
                <p class="text-2xl mt-4 font-bold text-white drop-shadow-md">æ­£åœ¨é€£ç·šè‡³å€å¡Šéˆ...</p>
            </div>

            <!-- å•†å“ç¶²æ ¼ -->
            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 hidden">
                <!-- å•†å“æœƒæ’åœ¨é€™è£¡ -->
            </div>
        </main>
    </div>

    <!-- è³¼ç‰©è»Š Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black/80 hidden z-50 flex justify-center items-center backdrop-blur-sm">
        <div class="win95-box bg-white w-96 max-w-full m-4 shadow-2xl">
            <div class="win95-header">
                <span>ğŸ›’ çµå¸³æ«ƒæª¯</span>
                <button onclick="toggleCart()" class="bg-red-600 text-white px-2 font-bold hover:bg-red-700">X</button>
            </div>
            <div class="p-4 max-h-[60vh] overflow-y-auto">
                <ul id="cart-items" class="space-y-2 text-sm">
                    <!-- è³¼ç‰©è»Šé …ç›® -->
                </ul>
                <div class="mt-4 pt-4 border-t-2 border-black flex justify-between font-bold text-xl">
                    <span>ç¸½è¨ˆ (USD):</span>
                    <span id="cart-total" class="font-mono text-green-600">$0.00</span>
                </div>
                <p class="text-xs text-gray-500 mt-1">* åƒ¹æ ¼å·²é–å®š 5 ç§’ (å¤§æ¦‚å§)</p>
                <button onclick="checkout()" class="w-full mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-3 border-4 border-green-800 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition">
                    ğŸ’¸ SHUT UP AND TAKE MY MONEY
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. è³‡æ–™åº« (åŠ å…¥å¹´ä»½èˆ‡åŸºæœ¬ Meme å¹£å®šåƒ¹) ---
        // basePrice: åŸºç¤å®šåƒ¹ (å–®ä½: Meme Coin)
        // year: ç”¨æ–¼åˆ†é¡
        const MEME_PRODUCTS = [
            { id: 1, name: "Chill Guy", basePrice: 50, year: 2025, category: "emotional", img: "https://placehold.co/400x300/8B4513/ffffff?text=Chill+Guy", desc: "ä»–åªæ˜¯ä¸€å€‹ Chill Guyï¼Œåˆ¥ç®¡ä»–ã€‚" },
            { id: 2, name: "Pop Cat (è²æ§ç‰ˆ)", basePrice: 120, year: 2020, category: "useless", img: "https://placehold.co/400x300/ffcc00/000000?text=POP+CAT", desc: "å•µå•µå•µå•µå•µå•µå•µå•µå•µå•µã€‚" },
            { id: 3, name: "Emotional Damage", basePrice: 0, year: 2022, category: "emotional", img: "https://placehold.co/400x300/ff0000/ffffff?text=Emotional+Damage", desc: "å¿ƒéˆçˆ†æ“Šï¼Œç„¡æ³•é˜²ç¦¦ã€‚" },
            { id: 4, name: "Doge (åŸå§‹ç‰ˆ)", basePrice: 999, year: 2013, category: "classic", img: "https://placehold.co/400x300/E1C699/000000?text=Doge+Coin", desc: "Much wow. Very crypto." },
            { id: 5, name: "Pepe the Frog", basePrice: 420, year: 2010, category: "classic", img: "https://placehold.co/400x300/4C9F70/ffffff?text=Pepe", desc: "Feels bad man." },
            { id: 6, name: "Skibidi Toilet", basePrice: 69, year: 2024, category: "useless", img: "https://placehold.co/400x300/666666/ffffff?text=Skibidi", desc: "è«‹ä¸è¦è²·é€™å€‹ï¼Œæ‹œè¨—ã€‚" },
            { id: 7, name: "Woman Yelling at Cat", basePrice: 300, year: 2019, category: "classic", img: "https://placehold.co/400x300/pink/000000?text=Cat+Meme", desc: "é€™éš»è²“åšéŒ¯äº†ä»€éº¼ï¼Ÿ" },
            { id: 8, name: "AI ç¹ªåœ–çš„æ‰‹æŒ‡", basePrice: 88, year: 2025, category: "useless", img: "https://placehold.co/400x300/blue/white?text=6+Fingers", desc: "é€™æ˜¯ç‰¹å¾µï¼Œä¸æ˜¯ Bugã€‚" }
        ];

        let cart = [];
        let currentProducts = [...MEME_PRODUCTS]; // ç›®å‰é¡¯ç¤ºçš„ç”¢å“åˆ—è¡¨
        let exchangeRate = 0.42; // é è¨­åŒ¯ç‡ (1 Meme Coin = ? USD)
        let volatility = 0.05; // æ³¢å‹•ç‡

        // --- 2. æ¨¡æ“¬å¾Œç«¯/å¤–éƒ¨ API ä¸²æ¥ ---

        // å˜—è©¦æŠ“å–çœŸå¯¦çš„ Dogecoin åƒ¹æ ¼
        async function fetchCryptoPrice() {
            try {
                // ä½¿ç”¨ CoinGecko å…è²» API
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=dogecoin&vs_currencies=usd');
                const data = await response.json();

                if (data.dogecoin && data.dogecoin.usd) {
                    // ç‚ºäº†è®“åƒ¹æ ¼å¥½çœ‹ä¸€é»ï¼Œæˆ‘å€‘æŠŠçœŸå¯¦åŒ¯ç‡æ”¾å¤§ä¸€é»
                    return data.dogecoin.usd * 10;
                }
            } catch (error) {
                console.warn("API é™åˆ¶æˆ–å¤±æ•—ï¼Œä½¿ç”¨æ¨¡æ“¬æ•¸æ“š");
            }
            // Fallback: å¦‚æœ API å¤±æ•—ï¼Œå›å‚³ä¸€å€‹éš¨æ©Ÿæ•¸
            return 0.3 + Math.random() * 0.2;
        }

        // --- 3. æ ¸å¿ƒé‚è¼¯ï¼šåƒ¹æ ¼æ³¢å‹•ç³»çµ± ---

        async function startMarketLoop() {
            const loader = document.getElementById('loader');
            const grid = document.getElementById('product-grid');

            // åˆå§‹è¼‰å…¥
            exchangeRate = await fetchCryptoPrice();
            loader.classList.add('hidden');
            grid.classList.remove('hidden');
            renderProducts();
            updateTicker();

            // å•Ÿå‹•åƒ¹æ ¼æ³¢å‹• (æ¯ 3 ç§’æ›´æ–°ä¸€æ¬¡)
            setInterval(() => {
                // æ¨¡æ“¬æ³¢å‹•ï¼šéš¨æ©Ÿæ¼²è·Œ 5%
                const change = 1 + (Math.random() * 0.1 - 0.05);
                exchangeRate *= change;

                // æ›´æ–° UI
                updateTicker(change > 1);
                updateProductPrices();
            }, 3000);

            // æ¯ 60 ç§’å˜—è©¦æŠ“ä¸€æ¬¡çœŸå¯¦è³‡æ–™ (é¿å… API Rate Limit)
            setInterval(async () => {
                const realRate = await fetchCryptoPrice();
                if(realRate) exchangeRate = realRate;
            }, 60000);
        }

        function updateTicker(isUp) {
            const rateEl = document.getElementById('exchange-rate');
            const changeEl = document.getElementById('rate-change');
            const moodEl = document.getElementById('market-mood');

            rateEl.innerText = `$${exchangeRate.toFixed(4)}`;

            // æ ¹æ“šæ¼²è·Œæ”¹è®Šé¡è‰²
            if (isUp) {
                rateEl.className = "font-bold text-xl text-green-400 transition duration-300";
                changeEl.innerText = "(ğŸ“ˆ STONKS)";
                changeEl.className = "text-green-400";
                moodEl.innerText = "ğŸ¤‘";
                moodEl.nextElementSibling.innerText = "è²ªå©ªæ™‚åˆ»";
                moodEl.nextElementSibling.className = "font-bold text-green-500";
            } else {
                rateEl.className = "font-bold text-xl text-red-500 transition duration-300";
                changeEl.innerText = "(ğŸ“‰ PANIC)";
                changeEl.className = "text-red-500";
                moodEl.innerText = "ğŸ˜±";
                moodEl.nextElementSibling.innerText = "æ¥µåº¦ææ…Œ";
                moodEl.nextElementSibling.className = "font-bold text-red-600";
            }
        }

        // --- 4. æ¸²æŸ“é‚è¼¯ ---

        function renderProducts() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = '';

            if (currentProducts.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center text-3xl font-bold bg-white p-10 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]">æ‰¾ä¸åˆ°é€™å€‹ Meme... å¯èƒ½å·²ç¶“éæ°£äº† ğŸ¥€</div>';
                return;
            }

            currentProducts.forEach(p => {
                // è¨ˆç®—ç•¶å‰åƒ¹æ ¼
                const currentPrice = (p.basePrice * exchangeRate).toFixed(2);

                const html = `
                    <div class="win95-box bg-white flex flex-col h-full transform transition hover:-translate-y-1 hover:shadow-[6px_6px_0px_rgba(0,0,0,1)] group">
                        <div class="win95-header">
                            <span class="truncate text-xs">${p.name}.exe [${p.year}]</span>
                            <div class="flex gap-1">
                                <div class="bg-gray-300 w-3 h-3 border border-black"></div>
                                <div class="bg-gray-300 w-3 h-3 border border-black"></div>
                            </div>
                        </div>
                        <div class="p-3 flex-1 flex flex-col">
                            <div class="relative overflow-hidden border-2 border-black mb-2">
                                <img src="${p.img}" alt="${p.name}" class="w-full h-40 object-cover shake-on-hover transition duration-500 group-hover:scale-110">
                                <div class="absolute top-0 right-0 bg-yellow-300 px-1 border-l-2 border-b-2 border-black font-bold text-xs">
                                    ${p.category === 'classic' ? 'ğŸ† CLASSIC' : (p.year >= 2024 ? 'ğŸ”¥ NEW' : 'ğŸ’© MEME')}
                                </div>
                            </div>

                            <h3 class="font-black text-xl mb-1 text-blue-900 leading-tight">${p.name}</h3>
                            <p class="text-xs text-gray-600 mb-3 font-mono flex-1 border-t border-gray-300 pt-1">${p.desc}</p>

                            <div class="flex justify-between items-end mt-auto">
                                <div>
                                    <div class="text-xs text-gray-400 line-through">M${p.basePrice}</div>
                                    <div class="text-2xl font-black font-mono price-tag" id="price-${p.id}" data-base="${p.basePrice}">
                                        $${currentPrice}
                                    </div>
                                </div>
                                <button onclick="addToCart(${p.id})" class="bg-blue-600 text-white px-3 py-1 font-bold border-2 border-black hover:bg-blue-500 active:bg-blue-700 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none text-sm">
                                    BUY
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += html;
            });
        }

        // åªæ›´æ–°åƒ¹æ ¼æ•¸å­— (æ•ˆèƒ½å„ªåŒ–ï¼Œä¸ç”¨é‡ç¹ªæ•´å€‹ DOM)
        function updateProductPrices() {
            const priceTags = document.querySelectorAll('.price-tag');
            priceTags.forEach(tag => {
                const base = parseFloat(tag.getAttribute('data-base'));
                const oldPrice = parseFloat(tag.innerText.replace('$', ''));
                const newPrice = (base * exchangeRate).toFixed(2);

                tag.innerText = `$${newPrice}`;

                // åƒ¹æ ¼è·³å‹•é¡è‰²æ•ˆæœ
                tag.classList.remove('price-up', 'price-down');
                // å¼·åˆ¶é‡ç¹ªä»¥è§¸ç™¼å‹•ç•«
                void tag.offsetWidth;

                if (newPrice > oldPrice) tag.classList.add('price-up');
                else if (newPrice < oldPrice) tag.classList.add('price-down');
            });

            // åŒæ­¥æ›´æ–°è³¼ç‰©è»Šç¸½åƒ¹
            updateCartTotal();
        }

        // --- 5. ç¯©é¸èˆ‡åˆ†é¡åŠŸèƒ½ ---
        function filterProducts(type) {
            if (type === 'all') {
                currentProducts = [...MEME_PRODUCTS];
            } else if (type === '2025') {
                // è¿‘æœŸç†±é–€ï¼šç¯©é¸ 2024 å¹´ä»¥å¾Œçš„
                currentProducts = MEME_PRODUCTS.filter(p => p.year >= 2024);
            } else if (type === 'classic') {
                // ç¶“å…¸ï¼šç¯©é¸ 2020 å¹´ä»¥å‰çš„
                currentProducts = MEME_PRODUCTS.filter(p => p.year <= 2020);
            } else {
                // é¡åˆ¥ç¯©é¸
                currentProducts = MEME_PRODUCTS.filter(p => p.category === type);
            }
            renderProducts();
        }

        // --- 6. è³¼ç‰©è»ŠåŠŸèƒ½ ---
        function addToCart(id) {
            const product = MEME_PRODUCTS.find(p => p.id === id);
            // åŠ å…¥è³¼ç‰©è»Šæ™‚ï¼Œé–å®šç•¶ä¸‹çš„åƒ¹æ ¼
            const lockedPrice = parseFloat((product.basePrice * exchangeRate).toFixed(2));

            cart.push({ ...product, lockedPrice });
            updateCartUI();

            // éš¨æ©Ÿå‹•ç•«
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "GOTCHA!";
            btn.classList.add("bg-green-500");
            setTimeout(() => {
                btn.innerText = originalText;
                btn.classList.remove("bg-green-500");
            }, 500);
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const list = document.getElementById('cart-items');
            list.innerHTML = '';

            cart.forEach((item, index) => {
                list.innerHTML += `
                    <li class="flex justify-between items-center bg-gray-100 p-2 border border-dotted border-gray-400">
                        <div>
                            <span class="font-bold block text-blue-800">${item.name}</span>
                            <span class="text-xs text-gray-500">[${item.year}]</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-mono font-bold">$${item.lockedPrice}</span>
                            <button onclick="removeFromCart(${index})" class="text-red-500 font-bold hover:bg-red-100 px-2 rounded">x</button>
                        </div>
                    </li>
                `;
            });
            updateCartTotal();
        }

        function updateCartTotal() {
            // è³¼ç‰©è»Šå…§çš„åƒ¹æ ¼æ˜¯ã€Œé–å®šã€çš„ï¼Œé‚„æ˜¯éš¨å¸‚åƒ¹æ³¢å‹•ï¼Ÿ
            // ç‚ºäº†å¥½ç©ï¼Œæˆ‘å€‘è®“å®ƒéš¨å¸‚åƒ¹æ³¢å‹• (é™¤äº†å·²ç¶“åŠ å…¥çš„) -> ä¿®æ­£ï¼šé€™è£¡ä½¿ç”¨ lockedPrice æ¯”è¼ƒåˆç†
            const total = cart.reduce((acc, item) => acc + item.lockedPrice, 0);
            document.getElementById('cart-total').innerText = `$${total.toFixed(2)}`;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.toggle('hidden');
        }

        function checkout() {
            if (cart.length === 0) {
                alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œé€™ä»£è¡¨ä½ å¿ƒéˆå¯Œè¶³ (æˆ–æ˜¯å–®ç´”æ²’éŒ¢) ğŸ§˜");
                return;
            }
            alert(`äº¤æ˜“æˆåŠŸï¼\nç¸½å…±èŠ±è²» $${document.getElementById('cart-total').innerText}\n\næé†’ï¼šä½ çš„ä¿¡ç”¨å¡å¸³å–®å°‡åœ¨ä¸‹å€‹æœˆçˆ†ç‚¸ã€‚`);
            cart = [];
            updateCartUI();
            toggleCart();
        }

        // --- å•Ÿå‹• ---
        startMarketLoop();

    </script>
</body>
</html>
